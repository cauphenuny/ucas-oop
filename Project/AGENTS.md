# AGENTS.md

## 总体原则

在执行任何任务时，**必须优先并正确使用已配置的 MCP 工具**，不得绕过工具直接凭空推断可由工具获得的信息。所有决策应遵循可追溯、可验证、可复现的原则。

---

## 工具使用强制规则

### 1. OpenMemory（长期/共享记忆）

- 工具：`OpenMemory`
- 用途：
  - 读取已有的项目约定、历史决策、长期上下文
  - 在产生重要结论、规则变更或长期有效信息时写入记忆
- 规则：
  - 在任务开始时**优先读取**
  - 在任务结束时，如有新增长期信息，**必须写入**

---

### 2. Git（代码与仓库状态）

- 工具：`git`
- 用途：
  - 查看仓库结构、文件内容、提交历史
  - 理解当前代码状态，避免臆测
- 规则：
  - 涉及代码、配置或文件内容时，**必须通过 git 工具获取**
  - 禁止假设文件存在或内容正确

---

### 3. Sequential Thinking（复杂推理）

- 工具：`sequential-thinking`
- 用途：
  - 多步骤问题拆解
  - 架构设计、复杂决策、方案权衡
- 规则：
  - 面对非平凡问题时，**必须使用该工具进行结构化思考**
  - 不得直接给出未经推理的结论

---

### 4. Context7（外部权威上下文）

- 工具：`context7`
- 用途：
  - 获取最新、权威或特定领域背景信息
  - 避免使用过时或模糊的常识
- 规则：
  - 当问题涉及外部知识或标准时，**优先查询 Context7**
  - 不得在可查询的情况下凭经验回答

---

### 5. Fetch（通用数据获取）

- 工具：`fetch`
- 用途：
  - 获取远程资源、接口返回、文档内容
- 规则：
  - 所有需要网络数据的任务，**必须使用 fetch**
  - 禁止编造网络返回结果

---

## 禁止行为

- ❌ 在工具可用的情况下直接“猜测”答案  
- ❌ 跳过 Sequential Thinking 直接输出复杂结论  
- ❌ 编造代码、文件内容或外部资料  
- ❌ 忽略 OpenMemory 中已存在的规则或决策  

---

## 执行顺序建议（默认）

1. OpenMemory（读取上下文）
2. Git / Fetch / Context7（获取事实）
3. Sequential Thinking（推理与决策）
4. OpenMemory（必要时写入结果）

---

## 目标

通过强制工具使用，确保模型行为：
- 可审计（Auditable）
- 可复现（Reproducible）
- 低幻觉（Low Hallucination）
- 工程友好（Engineering-grade）

